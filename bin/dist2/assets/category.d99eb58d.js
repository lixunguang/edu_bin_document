import{b as d,_ as $}from"./index.f3b0bd2a.js";/* empty css              *//* empty css               *//* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               */import{d as q,e as c,aH as A,B as O,C as T,F as f,aI as l,aG as n,aM as r,aW as U,bh as D,be as z,bm as G,b2 as H,b3 as K,bK as P,b8 as R,a$ as W,b9 as j,ba as J}from"./arco.be854816.js";import"./chart.cc2aed62.js";import"./vue.0bc632a1.js";const L=u=>(j("data-v-97785fef"),u=u(),J(),u),Q={class:"container"},X={class:"list"},Y=L(()=>f("h3",null,"\u8BFE\u7A0B\u7C7B\u522B\u5217\u8868",-1)),Z=q({__name:"category",setup(u){const b={pageSize:10},y=[{title:"ID",dataIndex:"id"},{title:"\u7C7B\u522B",dataIndex:"title"},{title:"\u63CF\u8FF0",dataIndex:"desc"},{title:"\u7F16\u8F91",slotName:"edit"},{title:"\u5220\u9664",slotName:"delete"}],m=c([{id:1,title:"",desc:""}]),p=async function(){try{const e=(await d.post("/admin/learning/category/all")).data;if(e.length){m.value=[];for(let s=0;s<e.length;s+=1)m.value.push({id:e[s].id,title:e[s].title,desc:e[s].desc})}}catch(a){throw console.log(a),a}};p();const i=c(!1),_=c(!1),t=c({id:"",title:"",desc:""}),B=()=>{i.value=!0,_.value=!0,t.value.id="",t.value.title="",t.value.desc=""},C=async function(a,e,s){i.value=!0,_.value=!1,t.value.id=a,t.value.title=e,t.value.desc=s},h=async function(){if(_.value){const a={title:t.value.title,desc:t.value.desc};await d.post("/admin/learning/category/add",a)}else{const a={id:t.value.id,title:t.value.title,desc:t.value.desc};await d.post("/admin/learning/category/update",a)}p()},w=()=>{i.value=!1},F=async function(a){const e={id:a};await d.post("/admin/learning/category/del",e),p()};return(a,e)=>{const s=A("Breadcrumb"),v=U,x=D,I=z,k=G,V=H,g=K,S=P,E=R,M=W;return O(),T("div",Q,[f("div",null,[l(s,{items:["menu.mStudy","menu.mStudy.category"]},null,8,["items"])]),f("div",X,[Y,l(I,null,{default:n(()=>[l(x,{span:2},{default:n(()=>[l(v,{type:"primary",onClick:e[0]||(e[0]=o=>B())},{default:n(()=>[r(" \u65B0\u589E\u7C7B\u522B ")]),_:1})]),_:1})]),_:1}),l(k,{columns:y,data:m.value,pagination:b},{edit:n(({record:o})=>[l(v,{onClick:N=>C(o.id,o.title,o.desc)},{default:n(()=>[r("\u7F16\u8F91")]),_:2},1032,["onClick"])]),delete:n(({record:o})=>[l(v,{onClick:N=>a.$modal.info({title:"\u5220\u9664",content:o.id,onOk:()=>F(o.id)})},{default:n(()=>[r("\u5220\u9664")]),_:2},1032,["onClick"])]),_:1},8,["data"])]),l(M,{visible:i.value,"onUpdate:visible":e[3]||(e[3]=o=>i.value=o),width:"800px",onOk:h,onCancel:w},{title:n(()=>[r(" \u65B0\u589E/\u7F16\u8F91\u7C7B\u522B ")]),default:n(()=>[l(E,{model:t.value,"auto-label-width":""},{default:n(()=>[l(g,{field:"title",label:"\u7C7B\u522B"},{default:n(()=>[l(V,{modelValue:t.value.title,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.title=o),style:{width:"320px"}},null,8,["modelValue"])]),_:1}),l(g,{field:"title",label:"\u63CF\u8FF0"},{default:n(()=>[l(S,{modelValue:t.value.desc,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.desc=o),style:{width:"600px"},placeholder:"Please enter something","allow-clear":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])])}}});const _e=$(Z,[["__scopeId","data-v-97785fef"]]);export{_e as default};
